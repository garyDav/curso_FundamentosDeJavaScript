<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>La Función bind</title>
  <style>
    * {
      font-size: 24px;
    }
  </style>
</head>
<body>
  <button id="boton">Off</button>

  <script>
    class Toggable {
      constructor( el ) {
        // Inicializar el estado interno
        this.el = el
        this.el.innerHTML = 'Off'
        this.activated = false
        this.onClick = this.onClick.bind(this)
        this.el.addEventListener( 'click', this.onClick )
      }
      onClick( ev ) {
        // Cambiar el estado interno 'ON/OFF'
        this.activated = !this.activated
        // Llamar a toggleText
        this.toggleText()
      }
      toggleText() {
        // Cambiar el Texto
        this.el.innerHTML = this.activated ? 'On' : 'Off'
      }
    }
    const button = document.getElementById('boton')
    const miBoton = new Toggable(button)

    // Otro uso de bind es
    function saludar( nombre, apellido ) {
      console.log( `Hola ${nombre} ${apellido}` )
    }
    // saludar('Sacha', 'Lifszyc')  ==> 'Hola Sacha Lifszyc'
    // Usar bind para setear los parámetros y no el contexto
    // Contexto null, primer parámetro siempre Sacha
    const saludarSachas = saludar().bind(null, 'Sacha')
    saludarSachas('Lifszyc') // Hola Sacha Lifszyc
    saludarSachas('Gomez') // Hola Sacha Gomez
    saludarSachas('Perez') // Hola Sacha Perez
  </script>
</body>
</html>
